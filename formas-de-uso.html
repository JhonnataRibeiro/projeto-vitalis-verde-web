<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vitalis Verde</title>
    <link rel="stylesheet" href="./css/style-formas-de-uso.css">
    <link rel="shortcut icon" href="./icons/favicon.png" type="image/x-icon">
</head>
<body>
    <header>
        <div class="container-cabecalho">
            <div class="container-logo">
                <a href="./index.html"><img src="./icons/logo.svg" alt=""></a>
            </div>

            <div class="container-navbar">
                <ul>
                    <li><a id="pagina-inicial" href="./index.html">Página Inicial</a></li>
                    <li><a id="plantas-medicinais" href="./plantas-medicinais.html">Plantas Medicinais</a></li>
                    <li><a id="formas-uso" href="./formas-de-uso.html">Formas de Uso</a></li>
                    <li><a id="quem-somos" href="./quem-somos-nos.html">Quem Somos Nós</a></li>
                </ul>
            </div>

            <div class="container-lupa-button">
                <img src="./icons/lupa.png" alt="">
                <button>Explorar Plantas</button>
            </div>
        </div>
    </header>

    <main>
        <div class="container-title">
            <h1>Selecione uma preparação farmacologica e saiba mais.</h1>
        </div>

        <div class="container-cards-preparacao">
            <div class="card-preparo">
                <div class="box-imagem" style="background-image: url(./images/preparacoes/infusao.png);"></div>

                <div class="box-title">
                    <h2>Infusão</h2>
                </div>

                <div class="box-button">
                    <button value="1" onclick="handleSaibaMais(this.value)">Saiba mais</button>
                </div>
            </div>

            <div class="card-preparo">
                <div class="box-imagem" style="background-image: url(./images/preparacoes/compressa.jpeg);"></div>

                <div class="box-title">
                    <h2>Compressa</h2>
                </div>

                <div class="box-button">
                    <button value="2" onclick="handleSaibaMais(this.value)">Saiba mais</button>
                </div>
            </div>

            <div class="card-preparo">
                <div class="box-imagem" style="background-image: url(./images/preparacoes/pos.png);"></div>

                <div class="box-title">
                    <h2>Pós</h2>
                </div>

                <div class="box-button">
                    <button value="3" onclick="handleSaibaMais(this.value)">Saiba mais</button>
                </div>
            </div>

            <div class="card-preparo">
                <div class="box-imagem" style="background-image: url(./images/preparacoes/decoccao.jpg);"></div>

                <div class="box-title">
                    <h2>Decocção</h2>
                </div>

                <div class="box-button">
                    <button value="4" onclick="handleSaibaMais(this.value)">Saiba mais</button>
                </div>
            </div>

            <div class="card-preparo">
                <div class="box-imagem" style="background-image: url(./images/preparacoes/maceracao.png);"></div>

                <div class="box-title">
                    <h2>Maceração</h2>
                </div>

                <div class="box-button">
                    <button value="5" onclick="handleSaibaMais(this.value)">Saiba mais</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var plantaId = localStorage.getItem("preparoId");

            if (plantaId) {
                fetch("./json/about-preparo.json") // Carrega o arquivo JSON
                    .then(response => response.json()) // Converte a resposta para JSON
                    .then(data => {
                        var planta = data.find(p => p.id == plantaId);

                        if (planta) {
                            document.querySelector(".container-imagem-principal").style.backgroundImage = `url(${planta.imagem})`;
                            document.querySelector(".container-about-plant h1").innerText = planta["titulo"];
                            document.querySelector(".pd1").innerText = planta["descricao"];
                        } else {
                            console.error("Planta não encontrada no JSON.");
                        }
                    })
                    .catch(error => console.error("Erro ao carregar o JSON:", error));
            }
        });

        function handleSaibaMais(value) {
            localStorage.setItem("preparoId", value);
            window.location.href = "./detalhe-preparo.html";
        }
    </script>
</body>
</html>